new entry "ARM_Ring_BESTFRIEND"
type "Armor"
using "ARM_Ring"
data "RootTemplate" "b5e7f58e-889a-49a1-8cb7-be7626c7df07"
data "ValueOverride" "0"
data "Boosts" "UnlockSpell(Trips_Gob_FindFamiliar_Squirrel_StandAlone)"
data "Rarity" "Legendary"

//Item

new entry "OBJ_FoodSquirrel_StandAlone"
type "Object"
using "_Loot"
data "RootTemplate" "4cadfcf9-6b4f-4692-a72f-d9357af2e6e8"
data "ObjectCategory" "PetFood"
data "ValueLevel" "1"
data "ValueScale" "0"
data "MinAmount" "1"
data "MaxAmount" "1"
data "Weight" "0.001"
data "UseCosts" "ActionPoint:1"
data "Priority" "1"
data "ItemUseType" "Consumable"
data "GameSize" "Tiny"

new entry "Target_FeedSquirrel_StandAlone"
type "SpellData"
data "SpellType" "Target"
data "Level" ""
data "SpellSchool" ""
data "TargetRadius" "2"
data "SpellProperties" "RegainHitPoints(2d4)"
data "TargetConditions" "Tagged('Trips_Squirrel') and not Dead()"
data "TooltipDamageList" "RegainHitPoints(2d4)"
data "Icon" "Trips_Acorn"
data "DisplayName" "h517cd086g9801g4695g870fgf6e19ce3d49b;1"
data "PrepareSound" "Spell_Prepare_Control_Gen_L1to3_01"
data "PrepareLoopSound" "Spell_Prepare_Control_Gen_L1to3_01_Loop"
data "CastSound" "Spell_Cast_Control_AnimalFriendship_L1to3"
data "TargetSound" "Spell_Impact_Control_AnimalFriendship_L1to3"
data "VocalComponentSound" "Vocal_Component_CharmAnimal"
data "CastTextEvent" "Cast"
data "UseCosts" "ActionPoint:1"
data "SpellAnimation" "554a18f7-952e-494a-b301-7702a85d4bc9,,;,,;af94aac1-d8eb-4ccb-9520-694ade11b61c,,;f5db4001-b136-4c48-9aa4-026c4a7dd3b7,,;22dfbbf4-f417-4c84-b39e-2039315961e6,,;,,;5bfbe9f9-4fc3-4f26-b112-43d404db6a89,,;,,;,,"
data "VerbalIntent" "Healing"
data "HitAnimationType" "MagicalNonDamage"
data "MemoryCost" "1"
data "SpellFlags" "HasHighGroundRangeExtension;IgnorePreviouslyPickedEntities"
data "TargetEffect" "f217184e-6690-4235-9539-1c560c98af37"

new entry "Projectile_FoodSquirrel_StandAlone_Destroy_Healing"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_POTIONS"
data "SpellProperties" "RegainHitPoints(2d4)"
data "TargetConditions" "Tagged('Trips_Squirrel') and not Dead()"
data "Trajectories" "26c20c57-bdf8-4bc1-99ec-e8582a04daef,a4ea97d3-83eb-6bb5-fda7-d784160dc836"
data "DisplayName" "h517cd086g9801g4695g870fgf6e19ce3d49b;1"
data "VerbalIntent" "Healing"
data "HitAnimationType" "MagicalNonDamage"
data "TargetEffect" "f217184e-6690-4235-9539-1c560c98af37"

//Character

new entry "_Trips_Beast_StandAlone"
type "Character"
using "_Base"
data "Vitality" "1"
data "XPReward" ""
data "Sight" "1850"
data "Hearing" "1800"
data "Flags" "ObscurityWithoutSneaking"
data "SpellCastingAbility" "Intelligence"
data "ActionResources" "Movement:9;BonusActionPoint:1"
data "Passives" ""
data "DifficultyStatuses" "STATUS_EASY:PLAYER_BONUSES_EASYMODE"

new entry "Trips_Squirrel_StandAlone"
type "Character"
using "_Trips_Beast_StandAlone"
data "Strength" "3"
data "Level" "3"
data "Dexterity" "14"
data "Constitution" "6"
data "Intelligence" "8"
data "Wisdom" "10"
data "Charisma" "12"
data "Vitality" "11"
data "Weight" "1"
data "StepsType" "Spider"
data "Flags" ""
data "DefaultBoosts" "ScaleMultiplier(0.3);JumpMaxDistanceMultiplier(3);IgnoreFallDamage();ProficiencyBonus(Skill, Perception)"
date "Boosts" ""
data "ArmorType" "None"
data "ProficiencyBonusScaling" ""
data "ProficiencyBonus" "0"
data "UnarmedAttackAbility" "Dexterity"
data "Proficiency Group" "SimpleWeapons;LightArmor;MartialWeapons"
data "PersonalStatusImmunities" "BLEEDING;BURNING;SG_Poisoned;SHOCKED;SG_Polymorph;SG_Paralyzed;SG_Stunned;SG_Prone;SG_Invisible;SG_Frightened;SG_Cursed;SG_Exhausted;SG_Disease;SG_Incapacitated;SG_Restrained"
data "Passives" "DarknessRules;ShortResting;IsBaby_StandAlone"
data "DifficultyStatuses" "STATUS_EASY:PLAYER_BONUSES_EASYMODE"

new entry "Trips_Squirrel_StandAlone_3"
type "Character"
using "Trips_Squirrel_StandAlone"
data "Level" "3"
data "ActionResources" "ActionPoint:1;BonusActionPoint:1;ReactionActionPoint:1;Movement:9"
data "Constitution" "10"
data "Vitality" "21"
data "Passives" "DarknessRules;ShortResting;AttackOfOpportunity;CombatStartAttack"
data "DefaultBoosts" "ScaleMultiplier(0.6);JumpMaxDistanceMultiplier(3);IgnoreFallDamage();ProficiencyBonus(Skill, Perception)"

new entry "Trips_Squirrel_StandAlone_5"
type "Character"
using "Trips_Squirrel_StandAlone_3"
data "Level" "5"
data "Constitution" "15"
data "Vitality" "31"
data "ProficiencyBonusScaling" "265d62c4-9b82-4ed6-9a86-da675b4ef8fe"
data "ProficiencyBonus" ""
data "Passives" "DarknessRules;ShortResting;AttackOfOpportunity;CombatStartAttack;ExtraAttack"
data "DefaultBoosts" "ScaleMultiplier(0.8);JumpMaxDistanceMultiplier(3);IgnoreFallDamage();ProficiencyBonus(Skill, Perception)"

new entry "Trips_Squirrel_StandAlone_8"
type "Character"
using "Trips_Squirrel_StandAlone_5"
data "Level" "8"
data "Armor" "12"
data "Vitality" "61"
data "DefaultBoosts" "ScaleMultiplier(1.0);JumpMaxDistanceMultiplier(3);IgnoreFallDamage();ProficiencyBonus(Skill, Perception)"

new entry "Trips_Squirrel_StandAlone_12"
type "Character"
using "Trips_Squirrel_StandAlone_8"
data "Level" "12"
data "Dexterity" "18"
data "Armor" "13"
data "Vitality" "91"
data "DefaultBoosts" "ScaleMultiplier(1.5);JumpMaxDistanceMultiplier(3);IgnoreFallDamage();ProficiencyBonus(Skill, Perception)"

//Squirrel_StandAlone Spells and stuff

new entry "Trips_Gob_FindFamiliar_Squirrel_StandAlone"
type "SpellData"
data "SpellType" "Target"
data "Level" ""
data "TargetRadius" "18"
data "SpellSchool" ""
data "ContainerSpells" ""
data "Cooldown" "OncePerRest"
data "SpellProperties" "GROUND:IF(CharacterLevelGreaterThan(11)):Summon(9b97edec-6697-42e0-ab84-306522426d04, UntilLongRest,,,'BestFriendStack',UNSUMMON_ABLE,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(CharacterLevelGreaterThan(7) and not CharacterLevelGreaterThan(11)):Summon(2a706fac-d787-4785-9b89-490be57ba233, UntilLongRest,,,'BestFriendStack',UNSUMMON_ABLE,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(CharacterLevelGreaterThan(4) and not CharacterLevelGreaterThan(7)):Summon(59ce6154-c231-4699-b8c9-39eb06d3362a, UntilLongRest,,,'BestFriendStack',UNSUMMON_ABLE,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(CharacterLevelGreaterThan(2) and not CharacterLevelGreaterThan(4)):Summon(3c004451-c2ec-41a3-a709-366d65c413b0, UntilLongRest,,,'BestFriendStack',UNSUMMON_ABLE,SHADOWCURSE_SUMMON_CHECK);GROUND:IF(CharacterLevelGreaterThan(0) and not CharacterLevelGreaterThan(2)):Summon(09555fcb-b185-461f-84fd-0be72abc6f3c, UntilLongRest,,,'BestFriendStack',UNSUMMON_ABLE_BABY_STANDALONE,SHADOWCURSE_SUMMON_CHECK)"
data "TargetConditions" "CanStand('308da8fd-fb8e-4078-8991-a8ee678b49da') and not Character() and not Self()"
data "Icon" "Trips_BestFriend"
data "DisplayName" "hfbc4eec5ge8eeg4a56gb73dg9e476a7a330f;1"
data "Description" "h2c42450agb906g4078ga98ag43cb8c6e9d60;1"
data "PrepareSound" "Spell_Prepare_Summon_Gen_L1to3"
data "PrepareLoopSound" "Spell_Prepare_Summon_Gen_L1to3_Loop"
data "CastSound" "Spell_Cast_Summon_FindFamiliar_L1to3"
data "CastTextEvent" "Cast"
data "TargetSound" "Spell_Impact_Summon_FindFamiliar_L1to3"
data "UseCosts" "ActionPoint:1"
data "RitualCosts" "ActionPoint:1"
data "VerbalIntent" "Summon"
data "SpellAnimation" "6f42f5f3-7a5a-4441-a02e-71b0450ac4b7,,;,,;605d49b4-03b9-47f6-96e9-7f80e6be7514,,;fbf20742-9dbf-475b-9ff5-42e4b08064ad,,;42aaefdc-cf9b-4249-b159-285041851f69,,;,,;20e11c98-fff9-4417-88de-5bcc2368a1bd,,;,,;,,"
data "CastEffect" "4034d405-b7f7-44e3-b0a1-d1846df62dfe"
data "PositionEffect" "5846144d-4087-4797-9d6d-57f6106586e4"
data "SpellStyleGroup" "Class"
data "SpellFlags" "HasSomaticComponent;HasVerbalComponent;HasHighGroundRangeExtension;CannotTargetCharacter;CannotTargetItems"
data "MemoryCost" ""
data "DamageType" "Psychic"

new entry "Target_Claws_Squirrel_StandAlone_Summon"
type "SpellData"
data "SpellType" "Target"
using "Target_Claws"
data "Icon" "Action_Imp_Claws"
data "SpellSuccess" "DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier),Slashing)"
data "TooltipDamageList" "DealDamage(1d4+UnarmedMeleeAbilityModifier,Slashing)"
data "SpellAnimationIntentType" "Aggressive"
data "CastEffect" "a3d3617e-73ca-4eb1-a521-7615c6fc6aa6"
data "TargetEffect" "5b143818-1f79-47e2-b5ad-a39e97ce83c1"

new entry "Shout_Squirrel_StandAlone_Summon_Enrage"
type "SpellData"
data "SpellType" "Shout"
data "Cooldown" "OncePerShortRest"
data "SpellProperties" "GROUND:IF(not HasStatus('CALM_EMOTION',context.Source)):ApplyStatus(SELF,SQUIRREL_STANDALONE_SUMMON_ENRAGE,100,3)"
data "AreaRadius" "4"
data "SpellRoll" "not SavingThrow(Ability.Constitution, 17)"
data "SpellSuccess" "ApplyStatus(FEARED,100,1)"
data "TargetConditions" "not Self() and not Dead() and not Item() "
data "Icon" "Action_Barbarian_Rage_BearTotem"
data "DisplayName" "hb7d4185bg0229g4bdbgb690g9d8b73edc60b;2"
data "Description" "h4a975442geef3g4c5aga639ge7f8cc694f90;4"
data "DescriptionParams" "2"
data "TooltipAttackSave" "Constitution"
data "TooltipStatusApply" "ApplyStatus(SQUIRREL_STANDALONE_SUMMON_ENRAGE,100,3);ApplyStatus(FEARED,100,1)"
data "TooltipPermanentWarnings" "8892b93b-721f-4b99-b9b4-05ac25aadb33"
data "CastSound" "CrSpell_Cast_OwlbearEnrage"
data "CastTextEvent" "Cast"
data "UseCosts" "BonusActionPoint:1"
data "SpellAnimation" "50e7cd15-5b95-47e9-b6f8-ed7900d23d9d,,;,,;289b4f53-3ca5-4dff-a1d4-e84a84a283f0,,;772a34bf-06c1-43ee-ae7b-1a1ffd3fef9e,,;03239618-40c7-47ab-a7b4-d2e0b111e5f7,,;,,;bc09e561-370b-4307-88d7-6462b6fbabec,,;,,;,,"
data "VerbalIntent" "Buff"
data "SpellFlags" "IsMelee"
data "SpellAnimationIntentType" "Aggressive"
data "Requirements" "Combat"
data "RequirementConditions" "not HasStatus('SQUIRREL_STANDALONE_SUMMON_ENRAGE') and not HasStatus('CALM_EMOTIONS')"
data "PrepareEffect" "578a7f5f-4363-4fbb-a522-bf3297817a9d"
data "CastEffect" "8bfc4062-8891-4cdc-a02b-22e1386b105f"

new entry "SQUIRREL_STANDALONE_SUMMON_ENRAGE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h5c7a2e51g3e71g4a14gad8bg6dece2464ac8;2"
data "Description" "h6f13a4ffg7667g41cdga7edga91bcdeae784;2"
data "DescriptionParams" "2;2;GainTemporaryHitPoints(12)"
data "Icon" "statIcons_OwlbearsRage"
data "FormatColor" "Red"
data "SoundLoop" "Spell_Status_Enrage_MO"
data "StackId" "SQUIRREL_STANDALONE_SUMMON_ENRAGE"
data "Boosts" "Ability(Dexterity, 2);Ability(Constitution, 2);TemporaryHP(12);Tag(CANBECALMED)"
data "RemoveConditions" "not HasStatus('WILDSHAPE_OWLBEAR_PLAYER') or not HasTemporaryHP()"
data "RemoveEvents" "OnAttacked"
data "StatusPropertyFlags" "ForceOverhead"
data "StatusGroups" "SG_Rage"
data "StatusEffect" "dc954f3e-e588-481b-99af-9e4d06c00818"

new entry "Projectile_Jump_Squirrel_StandAlone_Summon_Lunge"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_Jump_Owlbear"
data "Cooldown" ""
data "ExplodeRadius" "1"
data "SpellRoll" "not SavingThrow(Ability.Dexterity, SourceSpellDC())"
data "SpellSuccess" "DealDamage(3d8,Bludgeoning);ApplyStatus(PRONE,100,1)"
data "SpellFail" "DealDamage((2d8)/2,Bludgeoning)"
data "TargetConditions" "not Self() and not Ally() and not Dead()"
data "TooltipAttackSave" "Dexterity"
data "DisplayName" "hac9d9676g2480g404dg8663g3035f3449b59;1"
data "Description" "hedc70702ge25bg48cbgbda2g7bea6da0e31f;1"
data "TooltipDamageList" "DealDamage(3d8,Bludgeoning)"
data "TooltipStatusApply" "ApplyStatus(PRONE,100,1)"
data "TooltipOnSave" "961753f4-c345-4bc4-b408-1d5b87a5ab0c"
data "SpellAnimation" "958dd4d6-3ad3-4f58-a4ae-9499743a6dab,,;,,;d7741bd3-2ec9-41aa-803b-39d2be52aac5,,;78da379c-5535-4a07-b650-b695831bab9a,,;1accbc00-728f-44d4-8926-268944ce5f03,,;,,;27c7e1e3-1d72-4ff7-801d-949535e25308,,;,,;,,"
data "SpellFlags" "RangeIgnoreVerticalThreshold;HasHighGroundRangeExtension;IgnoreVisionBlock;IsJump;CannotTargetItems"

new entry "Baby_StandAlone_Dismiss_Self"
type "SpellData"
data "SpellType" "Shout"
data "SpellProperties" "ApplyStatus(UNSUMMON_ACTIVE,100,-1);Unsummon()"
data "TargetConditions" "Self()"
data "Icon" "Action_DismissSummon"
data "DisplayName" "h65d8b524ge98cg4002ga406gc2b82de78470;2"
data "Description" "h5e11df5fge256g4252g8090gbfd9a070bfd7;4"
data "PrepareSound" "Generic_GeneralAction_Start"
data "PrepareLoopSound" "Generic_Summoned_Loop"
data "CastTextEvent" "Cast"
data "UseCosts" ""
data "SpellAnimation" "5e57443f-284e-47b2-915e-5b6417db269c,,;,,;3b1ecad1-dd85-4073-8799-e353e2460691,,;d172e037-7041-4352-9a20-5f4b185f9ef1,,;5bcdefbb-2194-46c2-ac77-0b2d8472a5f7,,;,,;5fdb66be-7506-411a-a7ea-c4783288aac8,,;,,;,,"
data "VerbalIntent" "Utility"
data "SpellFlags" "Temporary"
data "PrepareEffect" "820fb781-7098-45c1-869f-783423f78df5"

new entry "UNSUMMON_ABLE_BABY_STANDALONE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h7b5cbdbfg05acg4158ga1eeg382c44ff18b0;2"
data "Description" "hefa4f2d8g4c9cg4d67gbb72g918e773ed491;2"
data "StackId" "UNSUMMONABLE"
data "TickType" "StartTurn"
data "Boosts" "UnlockSpell(Baby_StandAlone_Dismiss_Self); Tag(SUMMON)"
data "StatusPropertyFlags" "DisableCombatlog;DisablePortraitIndicator;DisableOverhead;IgnoreResting"

new entry "IsBaby_StandAlone"
type "PassiveData"
data "DisplayName" "h12abad0dg1cf3g4c89g9f81g9f18ce3d0ad4;1"
data "Description" "h12dfe942gdf87g4710g99d9g7a082770b37d;1"
data "Icon" "Trips_BabyIcon"
data "Properties" "Highlighted"
data "Boosts" "ApplyStatus(TRIPS_GOB_ISBABY_STANDALONE,100,-1)"

new entry "TRIPS_GOB_ISBABY_STANDALONE"
type "StatusData"
data "Icon" "Trips_BabyIcon"
data "DisplayName" "h12abad0dg1cf3g4c89g9f81g9f18ce3d0ad4"
data "Description" "h12dfe942gdf87g4710g99d9g7a082770b37d"
data "StatusType" "BOOST"
